#+TITLE: Crossbow

A dynamic, interactive programming language.

Solve problems using arrows.

* TODO
- next
  - Seriously rework the pass-forward semantics; pick one semantics and make it work rather than current situation where lots of unsound approaches work
    - Means reworking the parser to enable things like filter >1
    - Remove rightward binding?
    - Or! introduce underscore binding
  - NO PARTIAL FUNCTIONS: Handle every single error with informative messages
    - Take out every fromRight'
      - Interpreter
      - Parser: when eval'ing
    - Semigroup / Num instances need full patterns too
    - Resolve every warning in the main code via Left
    - In the builtins, resolve via some short-circuiting VError
    - Then never have the interpreter panic
- language features
  - [ ] variable allocation
  - [ ] scoping rules
  - [ ] function definition
  - [ ] predicates, bools and truthiness
  - [ ] 0, [] and False all falsy???
  - [ ] control flow like splitif? or masking like APL?
  - [ ] Shortcuts for referring to output of previous line / assignment
  - [X] builtins defined in terms of the language itself - e.g. map n fold
  - [X] left-partiality e.g 1+ allowed as well as +1
  - [X] partial application for e.g. 1,2,3|+,-,+|4,5,6 = 5,-3,9
  - [X] text handling
  - [X] easy file input
  - [X] Functoriality by default (e.g. [1,2,3] + 1 fmaps the addition)
  - [X] explicit casting
  - [X] function values
  - [X] Pipe one thing to another
  - [X] Basic arithmetic
  - [X] Single pipes
- ui features
  - [ ] special builtin for stdin
  - [ ] Character-by-character interface
  - [ ] intermediate state display by default
  - [ ] tree mode; curses shows splits as a graph
  - [ ] native terminal colors (see tetris, no curses)
  - [ ] kb shortcuts for skipping between clauses
  - [ ] Display pipe result, truncated, in real time
- standard library
  - [ ] simple parsing
  - [ ] sorting
  - [ ] search
  - [ ] DS from prims (trees from list-nests, etc)
  - [ ] assoc lists
  - [ ] map utils like countmap
  - [ ] bitwise stuff
- misc goals
  - [ ] solve 2021 AOC day by day
  - [ ] compiled backend
  - [ ] an interpreter / compiler written in Crossbow
  - [ ] model for actual IO computation
